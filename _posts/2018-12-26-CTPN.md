---
layout: post
title:  CTPN原理与实现
subtitle: 
date: 2018-11-22 00:09:37 +08:00
author:     "VernonSong"
header-img: "img/post-bg-ctpn.jpg"
catalog: true
mathjax: true
tags:
    - 深度学习
    - 论文翻译
---

## 概述
虽然Faster R-CNN这样的网络在目标检测领域有这相当高的准确率，但直接放在文本检测任务中却并不能行的通，主要有两点原因：一是文本行的长度差异非常大的序列，没有明确定义的边界；二是目标检测一般只需要IoU大于0.5就可以判断出物体种类，但文本检测要求不能漏掉字符的任何一部分，才能准确识别出字符。因此，作者对Faster R-CNN进行改进，设计了专门进行文本行检测的CTPN（Connectionist Text Proposal Network）。

## CTPN
CTPN的思想非常简单：对于一种不认识的文字，如果只是单个字符，我们将会难以判断是否是文本，但如果是一整行字符，我们就会确信这是一行文字。因此，在CTPN中，先进行细粒度的文本块提议，然后根据该行的数个文本块判断其是不是一个文本行。

### 精细化区域建议网络（Fine-scale text proposals）
精细化区域建议网络是有RPN针对文本检测改进而来。由于文本行是一个包含了笔画，字符，单词等各个层次组件的序列，并且这些字符之间，甚至笔画之间都可能是分离的，因此，定位文本行的开始和结束位置是一件困难的事情。为了解决这个问题，作者提出使用细粒度的文本块提议，每个文本块的宽度固定为16（刚好是feat stride）。而文本块的的高度依然是像RPN那样将多尺度的Anchor进行边框回归后得到，在CTPN中，作者使用了从11到273之间（每次除以0.7）的10个尺度。由于只需要在垂直高度上进行边框回归，因此回归公式为：

$$
$$

### 



